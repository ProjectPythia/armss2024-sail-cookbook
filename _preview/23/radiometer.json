{"version":2,"kind":"Notebook","sha256":"25bc1ec562dbe4813f395b6f96aac9257a641477dc3b36005285d72e62bd4dd7","slug":"radiometer","location":"/Radiometer.ipynb","dependencies":[],"frontmatter":{"title":"Longwave IR Radiation Ratios","content_includes_title":true,"kernelspec":{"name":"conda-base-py","display_name":"Python [conda env:base] *","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/armss2024-sail-cookbook","copyright":"2024","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/armss2024-sail-cookbook/blob/HEAD/Radiometer.ipynb","exports":[{"format":"ipynb","filename":"Radiometer.ipynb","url":"/armss2024-sail-cookbook/_preview/23/build/Radiometer-d314db1695a301a902254bdcba874a8e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Longwave IR Radiation Ratios","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtrWGvtRcv"}],"identifier":"longwave-ir-radiation-ratios","label":"Longwave IR Radiation Ratios","html_id":"longwave-ir-radiation-ratios","implicit":true,"key":"siZjw4sjVG"}],"key":"YBQeKp9dmI"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"import act\nimport numpy as np\nimport xarray as xr\nimport matplotlib.pyplot as plt\n\nusername = 'rppoland18'\ntoken = '3127641b73e77c24'\ndatastream = 'gucqcrad1longM1.c2'\nstartdate = '2021-09-01'\nenddate = '2023-06-15'\n\nresult = act.discovery.download_arm_data(username, token, datastream, startdate, enddate)\nrad = act.io.read_arm_netcdf(result)\nrad","key":"mMeFuogAOw"},{"type":"output","id":"ueBIFzR1ybYNZfdiloPft","data":[{"name":"stdout","output_type":"stream","text":"[DOWNLOADING] gucqcrad1longM1.c2.20220610.000000.cdf\n[DOWNLOA...","hash":"f2c3bcab06737808170552c273799244","path":"/armss2024-sail-cookbook/_preview/23/build/f2c3bcab06737808170552c273799244.txt"},{"name":"stderr","output_type":"stream","text":"ERROR 1: PROJ: proj_create_from_database: Open of /opt/conda/share/proj failed\n"},{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"4f4a93a6501abbf4d535e77e4d6e83ea","path":"/armss2024-sail-cookbook/_preview/23/build/4f4a93a6501abbf4d535e77e4d6e83ea.html"},"text/plain":{"content":"<xarray.Dataset> Size: 278MB\nDimensions:                                (time: 940320)\nCoordinates:\n  * time                                   (time) datetime64[ns] 8MB 2021-09-...\nData variables: (12/70)\n    base_time                              (time) datetime64[ns] 8MB 2021-09-...\n    time_offset                            (time) datetime64[ns] 8MB 2021-09-...\n    BestEstimate_down_short_hemisp         (time) float32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    qc_BestEstimate_down_short_hemisp      (time) int32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    source_BestEstimate_down_short_hemisp  (time) int32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    down_short_hemisp                      (time) float32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    ...                                     ...\n    MFRSR_flag                             (time) int32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    zenith                                 (time) float32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    sun_earth_distance                     (time) float32 4MB dask.array<chunksize=(1440,), meta=np.ndarray>\n    lat                                    (time) float32 4MB 38.96 ... 38.96\n    lon                                    (time) float32 4MB -107.0 ... -107.0\n    alt                                    (time) float32 4MB 2.886e+03 ... 2...\nAttributes: (12/46)\n    command_line:                        qcrad1long -n qcrad1long_sirsc2 -s g...\n    Conventions:                         ARM-1.3\n    process_version:                     vap-qcrad1long-6.6-0.el7\n    dod_version:                         qcrad1long-c2-2.3\n    input_datastreams:                   gucgndrad60sM1.b1 : 2.20 : 20210825....\n    site_id:                             guc\n    ...                                  ...\n    configurable_limits:                 \\ncnf0 = 16.0                * snow ...\n    history:                             created by user howie on machine pro...\n    _file_dates:                         ['20210901', '20210902', '20210903',...\n    _file_times:                         ['000000', '000000', '000000', '0000...\n    _datastream:                         gucqcrad1longM1.c2\n    _arm_standards_flag:                 1","content_type":"text/plain"}}}],"key":"aGQUoJ5EpW"}],"key":"cDRKDVhBPy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"wf_rad = rad.sel(time=slice('2022-01-26T06:30:00','2022-01-27T00:00:00'))\nbkg_rad = rad.sel(time=slice('2022-01-03T00:00:00','2022-01-04T00:00:00'))\ndust_rad = rad.sel(time=slice('2023-04-06T00:00:00','2023-04-07T00:00:00'))\n# dust_rad.down_long_hemisp.plot()\n# dust_rad.up_long_hemisp.plot()\nfig,(ax1,ax2) = plt.subplots(1,2,figsize=[20,8],layout='constrained')\nfig.supxlabel('Time')\nfig.supylabel('Downwelling IR Rad. / Upwelling IR Rad.')\nax1.plot((wf_rad.down_long_hemisp/wf_rad.up_long_hemisp),color='red') # Ratio of downwelling and upwelling IR radiation\nax1.set_ylim([0.6,0.9])\nax2.plot((bkg_rad.down_long_hemisp/bkg_rad.up_long_hemisp),color='black') # Ratio of downwelling and upwelling IR radiation\nax2.set_ylim([0.6,0.9])","key":"EzaEswTpPv"},{"type":"output","id":"lstlKeeyOsJweqiPgJSgF","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"(0.6, 0.9)","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f4a6a4ed24c61a25008efcd64f61dcaf","path":"/armss2024-sail-cookbook/_preview/23/build/f4a6a4ed24c61a25008efcd64f61dcaf.png"},"text/plain":{"content":"<Figure size 2000x800 with 2 Axes>","content_type":"text/plain"}}}],"key":"Ptcw6wnVUz"}],"key":"V34zZFoHiV"}],"key":"CSiiFSMGK0"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Plot downward longwave (LW) radiation at surface for WRF Simulations","url":"/notebooks/wrf-plot-longwave-rad","group":"Longwave radiation variations"},"next":{"title":"Surface albedo measurements","url":"/notebooks/sailradsnow","group":"Snow albedo changes in measurements and WRF simulations"}}},"domain":"http://localhost:3000"}